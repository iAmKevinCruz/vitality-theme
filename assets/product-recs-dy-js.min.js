(()=>{const t=new class{constructor(){this.comingsoonTag="comingsoon",this.list=document.querySelector(".product-recommendations-dy")}hideRecommendationsSection(){this.list.style.display="none"}getFirstVariant(t){let e=t.variants.find((t=>t.available));return e||(e=t.variants[0]),e}onlyOneVariant(t){let e="";return 1===t.variants.length&&(e="only-one"),e}generalProductClass(t){let e="";return 0==this.getFirstVariant(t).inventory_quantity&&(e="soldout"),e}buildCustomLabel(t){var e="";const a=this.getFirstVariant(t);return a.inventory_quantity>0&&a.inventory_quantity<5?e="Almost gone":0===a.inventory_quantity?e="Get notified":t.tags.includes("pfs:label-back-in-stock")?e="Back in stock":t.tags.includes("pfs:label-new")&&(e="New"),e?`<span>${e}</span>`:""}productNot(t){return 0==this.getFirstVariant(t).inventory_quantity?"hide_actions":""}productIsSale(t){return t.compare_at_price&&t.compare_at_price>0?"is-sale":""}getImage(t,e=300){if(!t)return"";const a=t.match(/\.(?:jpg|gif|png)/g);return t.replace(a[0],`_${e}x`+a[0])}buildImage(t,e,a=0){if(!t)return"";const i=t.media.filter((t=>"image"===t.media_type)),n=i&&i[a];return n?`<img alt="${n.alt}" loading="lazy" class="responsive-image__image lazyload" data-sizes="auto" src="${this.getImage(n.src,e)}" data-src="${this.getImage(n.src,e)}">`:""}variantsList(t){let e="";if(t.tags.includes(this.comingsoonTag))return e;if(t&&t.variants.length&&t.variants.length>1)for(let a of t.variants)e+=`<li class="hover-select__item add-to-cart-variant  ${a.available?"":"variant-disabled-notifyme"}" data-value="${a.id}">${a.title}</li>`;return e}variantOptions(t){let e="";if(t.tags.includes(this.comingsoonTag))return e;if(t&&t.variants.length)for(let a of t.variants)e+=`<option value="${a.id}" class="select-tag-item" ${a.available?"":"disabled"} ${this.getFirstVariant(t).id===a.id?"selected":""} >${a.title}</option>`;return e}notifyMeVariantOptions(t){let e="";if(t.tags.includes(this.comingsoonTag))return e;if(t&&t.variants.length)for(let a of t.variants)e+=`<option value="${a.id}"  ${a.available?"disabled":""} ${this.getFirstVariant(t).id===a.id?"selected":""}>${a.title}</option>`;return e}getYotpoStars(t){return`<div class="yotpo bottomLine" data-product-id="${t.id}" data-url="{{itemUrl}}"></div>`}buildFinalSaleLabel(t){var e="";return t.tags.includes("label:final-sale")&&(e='<span class="sale-label">Final sale</span>'),e}notifyMe(t){return t?`<div class="product-notifyme visually-hidden">\n      <div class='klaviyo-product-container' id='klaviyo-data-handle-${t.handle}' data-klaviyo-handle='${t.handle}'>\n        <div class="klaviyo-button-container">\n        </div>\n      </div>\n      </div>`:""}defaultButton(t){return!t||t.variants.length>1?"":`<span class="default-button add-to-cart-variant" data-value="${this.getFirstVariant(t).id}">Quick Add +</span>`}renderProduct(t,e){if(!e)return null;var a=productcardDY;return t.getFirstVariant(e)&&(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(/{{itemVariantId}}/g,t.getFirstVariant(e).id)).replace(/{{itemGeneralClass}}/g,t.generalProductClass(e))).replace(/{{itemProductNot}}/g,t.productNot(e))).replace(/{{itemImageMain}}/g,t.buildImage(e,360))).replace(/{{itemImageHover}}/g,t.buildImage(e,360,1))).replace(/{{itemIsSale}}/g,t.productIsSale(e))).replace(/{{itemUrl}}/g,e.url)).replace(/{{itemLabel}}/g,t.buildCustomLabel(e))).replace(/{{itemFinalSale}}/g,t.buildFinalSaleLabel(e))).replace(/{{itemId}}/g,e.id)).replace(/{{itemOnlyone}}/g,t.onlyOneVariant(e))).replace(/{{itemVariantsOptions}}/g,t.variantOptions(e))).replace(/{{notifyMeVariantsOptions}}/g,t.notifyMeVariantOptions(e))).replace(/{{itemVariantTitle}}/g,t.getFirstVariant(e).title)).replace(/{{itemVariantsList}}/g,t.variantsList(e))).replace(/{{defaultButton}}/g,t.defaultButton(e))).replace(/{{itemTitle}}/g,e.title)).replace(/{{itemVariantPrice}}/g,Shopify.formatMoney(t.getFirstVariant(e).price,Shopify.money_format))).replace(/{{itemVariantComparePrice}}/g,t.getFirstVariant(e).compare_at_price?Shopify.formatMoney(t.getFirstVariant(e).compare_at_price,Shopify.money_format):"")).replace(/{{itemYotpoStars}}/g,t.getYotpoStars(e))),a}init(t,e){const a=this,i=document.querySelector("[data-rec-engine]").getAttribute("data-rec-engine"),n=this.renderProduct;return DYO&&DYO.recommendationWidgetData&&i?void DYO.recommendationWidgetData(i,{},(async(i,r)=>{if(i)return console.log(i),null;if(0===r.slots.length)return this.hideRecommendationsSection();const s=await r.slots.map((async t=>{const e=t.item.link.split("?")[0];if(e){const t=await fetch(`${e}.js`);if(t.ok){const e=await t.json();return n(a,e)}return null}}));Promise.all(s).then((a=>{if(this.list.innerHTML=a.join(""),t){if(e){const e=this.list.closest(".products-carousel");document.querySelector(t).after(e)}document.querySelector(t).style.display="none"}})).then((()=>{if(yotpo.refreshWidgets(),Swiper){new Swiper(".products-carousel-swiper-DY",{speed:400,slidesPerView:2,spaceBetween:0,allowTouchMove:!0,mousewheel:{invert:!1,forceToAxis:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},cssMode:!0,breakpoints:{768:{slidesPerView:3},990:{cssMode:!1,allowTouchMove:!1,slidesPerView:4}},on:{afterInit:function(t){t?.el?.closest(".products-carousel")&&(t.el.closest(".products-carousel").style.display="block",t.update())}}})}}))})):null}};window.initDY=t})();