(()=>{"use strict";function t(t,e){const n=t.getAttribute("data-default"),a=t.querySelector(`option[value="${n}"]`);a&&(a.selected=!0);const o=e.getAttribute("data-default"),r=function(){const n=t.value,a=t.querySelector(`option[value="${n}"]`),r=JSON.parse(a.getAttribute("data-provinces"));if(e.innerHTML="",r.length>0){e.disabled=!1;for(let t in r){const n=document.createElement("option");n.value=r[t][0],n.text=r[t][1],r[t][1]===o&&(n.selected=!0),e.appendChild(n)}}else e.disabled=!0};r(),t.addEventListener("change",r)}!function(){const e=document.querySelectorAll("[data-account-route]"),n=document.querySelectorAll("[data-account-link-state]"),a=document.querySelector("[data-account-navigation-state]"),o=function(t={}){let o=-1,r=-1,c=[],u=window.location.hash||"";u&&(u=u.substring(1),c=u.split("/"));for(let t=0;t<e.length;t++){const n=e[t].getAttribute("data-account-route").trim();if(e[t].hasAttribute("data-account-default-route")&&-1===o&&(o=t),u===n)r=t;else if(-1===r){const e=n.split("/");if(e.length===c.length){let n=!0;for(var l=0;l<e.length;l++)if(e[l]!==c[l]&&"*"!==e[l]){n=!1;break}n&&(r=t)}}e[t].style.display="none"}-1===r&&o>-1&&(r=o,u=e[o].getAttribute("data-account-route").trim(),c=u.split("/")),r>-1&&(e[r].style.display="",t.general(e[r],c),e[r].getAttribute("data-account-route").trim()in t&&t[e[r].getAttribute("data-account-route").trim()](e[r],c));let i="";for(let t=0;t<n.length;t++){const e=n[t].getAttribute("href").trim().substring(1),a=e.split("/");if(e===u){n[t].setAttribute("data-account-link-state","active"),i=n[t].innerHTML;continue}if(a.length>=c.length){n[t].setAttribute("data-account-link-state","not-active");continue}let o=!0;for(let t=0;t<a.length;t++)if(a[t]!==c[t]){o=!1;break}n[t].setAttribute("data-account-link-state",o?"parent":"not-active"),o&&""===i&&(i=n[t].innerHTML)}""===i&&(i="Navigation"),a.innerHTML=i},r={general:function(t,e){},"orders/*":function(t,e){window.location.href=`/account/orders/${e[1]}`}};if(document.querySelector("#address_form_new").querySelectorAll(".errors").length>0)for(let t=0;t<e.length;t++)e[t].querySelectorAll("#address_form_new").length>0?e[t].setAttribute("data-account-default-route",""):e[t].removeAttribute("data-account-default-route");const c=new URLSearchParams(document.location.search.substring(1)).get("page");"overview"==document.querySelector("[data-account-default-route]").getAttribute("data-account-route")&&"1"==c&&(document.querySelector("[data-account-default-route]").removeAttribute("data-account-default-route"),document.querySelector('[data-account-route="orders"]').setAttribute("data-account-default-route",""));const u=document.querySelectorAll("form[data-address-form]");for(let e=0;e<u.length;e++)t(u.item(e).querySelector('select[name="address[country]"]'),u.item(e).querySelector('select[name="address[province]"]'));const l=document.querySelector("[data-account-navigation");a.addEventListener("click",(function(){"none"===window.getComputedStyle(l).display?l.style.display="block":l.style.display="none"}));for(let t=0;t<n.length;t++)n[t].addEventListener("click",(function(){l.style.display="none"}));const i=document.querySelectorAll(".account-app-orders-table tbody tr");for(let t=0;t<i.length;t++)i[t].addEventListener("click",(function(t){t.currentTarget.querySelector("a").click()}));window.addEventListener("hashchange",(function(){o(r)})),o(r)}()})();